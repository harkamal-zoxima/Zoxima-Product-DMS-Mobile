Complaints As screen:
    OnHidden: =Set(VarDialogOpen, false)
    OnVisible: |-
        =Set(VarDialogOpen, false);
        Set(varOpen, false)

    Gallery3_4 As gallery.galleryVertical:
        Height: =886
        Items: =Filter(Filter(Accounts, 'Account Type' = Gallery4_3.Selected.Value), 'Customer Search_2'.Text in 'Account Name (name)') 
        Layout: =Layout.Vertical
        TemplateSize: =184
        Y: =140
        ZIndex: =1

        HtmlText1_83 As htmlViewer:
            Color: =RGBA(242, 242, 242, 1)
            Height: =187
            HtmlText: |-
                ="<div style='border-radius:15px 15px 15px 15px; background-color:#FFFFF; border:2px solid #D3D4D6; width:580px; height:170px'></div>"
            OnSelect: =Select(Parent)
            Width: =594
            X: =15
            ZIndex: =1

        Label1_5 As label:
            Color: =RGBA(53, 166, 57, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =51
            Size: =17
            Text: =ThisItem.'Account Name (name)'
            Width: =364
            X: =36
            Y: =12
            ZIndex: =2

        "'Completed html_18' As htmlViewer":
            Color: =RGBA(242, 242, 242, 1)
            Font: =Font.Lato
            Height: =52
            HtmlText: |-
                ="<div style='border-radius:10px 10px 10px 10px; background-color:" & If(
                    ThisItem.'Account Type' = 'Account Type (Accounts)'.Distributer,
                    "#F28DB4",
                    ThisItem.'Account Type' = 'Account Type (Accounts)'.Retailer,
                    "#95D4E0",
                    ThisItem.'Account Type' = 'Account Type (Accounts)'.Wholesaler,
                    "#1A9FE4",
                   ThisItem.'Account Type' = 'Account Type (Accounts)'.Constructor,
                    "#EBCD43"
                
                ) & "; opacity:0.3; border:2px solid #D3D4D6; width:150px; height:40px'></div>"
            OnSelect: =Select(Parent)
            Width: =172
            X: =430
            Y: =8
            ZIndex: =13

        Label2_93 As label:
            Align: =Align.Center
            Color: |-
                =If(
                   ThisItem.'Account Type' = 'Account Type (Accounts)'.Distributer,
                    RGBA(219, 118, 157,1),
                  ThisItem.'Account Type' = 'Account Type (Accounts)'.Retailer,
                   RGBA(107,179,194,1),
                    ThisItem.'Account Type' = 'Account Type (Accounts)'.Wholesaler,
                    RGBA(26,159,228,1),
                    ThisItem.'Account Type' = 'Account Type (Accounts)'.Constructor,
                    RGBA(209,180,50,1)
                
                )
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =27
            Text: =ThisItem.'Account Type'
            Width: =160
            X: =430
            Y: =19
            ZIndex: =14

        Label2_94 As label:
            Color: =RGBA(51, 51, 51, 0.83)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =52
            Size: =12
            Text: |-
                =ThisItem.'Address 1: Street 1'
            Width: =382
            X: =36
            Y: =50
            ZIndex: =21

        Icon11_2 As icon.Waypoint:
            Height: =25
            Icon: =Icon.Waypoint
            OnSelect: =Select(Parent)
            Width: =25
            X: =405
            Y: =21
            ZIndex: =22

        Group12_2 As group:
            Height: =5
            Width: =5
            X: =40
            Y: =40
            ZIndex: =22

            HtmlText1_85 As htmlViewer:
                Color: =RGBA(242, 242, 242, 1)
                Height: =52
                HtmlText: |-
                    ="<div style='border-radius:10px 10px 10px 10px; background-color:#67CC6B; opacity:0.1; border:2px solid #D3D4D6; width:150px; height:30px'></div>"
                OnSelect: =Select(Parent)
                Width: =164
                X: =252
                Y: =103
                ZIndex: =8

            Label2_96 As label:
                Align: =Align.Center
                Color: =RGBA(53, 166, 57, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Height: =23
                Size: =12
                Text: ="Last Visit Date"
                Width: =116
                X: =273
                Y: =110
                ZIndex: =9

            Label2_98 As label:
                Align: =Align.Center
                Color: =RGBA(51, 51, 51, 0.83)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Height: =32
                Text: ="12-04-2022"
                Width: =127
                X: =273
                Y: =138
                ZIndex: =12

        Group13_2 As group:
            Height: =5
            Width: =5
            X: =40
            Y: =40
            ZIndex: =22

            HtmlText1_84 As htmlViewer:
                Color: =RGBA(242, 242, 242, 1)
                Height: =52
                HtmlText: |-
                    ="<div style='border-radius:10px 10px 10px 10px; background-color:#67CC6B; opacity:0.1; border:2px solid #D3D4D6; width:130px; height:30px'></div>"
                OnSelect: =Select(Parent)
                Width: =164
                X: =74
                Y: =102
                ZIndex: =4

            Label2_95 As label:
                Align: =Align.Center
                Color: =RGBA(53, 166, 57, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Height: =23
                Size: =12
                Text: ="Account No."
                Width: =116
                X: =85
                Y: =110
                ZIndex: =5

            Label2_97 As label:
                Align: =Align.Center
                Color: =RGBA(51, 51, 51, 0.83)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Height: =32
                Text: ="112"
                Width: =116
                X: =85
                Y: =133
                ZIndex: =10

        Group11_2 As group:
            Height: =5
            Width: =5
            X: =40
            Y: =40
            ZIndex: =25

            Button2_5 As button:
                Align: =Align.Left
                FocusedBorderColor: =ColorFade(Self.Fill, 75%)
                Font: =Font.Lato
                FontWeight: =FontWeight.Bold
                Height: =39
                OnSelect: |
                    =Set(
                        VarDialogOpen,
                        !VarDialogOpen
                    );
                    ClearCollect(
                        VisitData,
                        {
                            Customer: ThisItem.Account,
                            'Visit Type': 'Visit Type (Visits_1)'.Unplanned
                        }
                    );
                PaddingLeft: =45
                Size: =14
                Text: ="ADD"
                Width: =106
                X: =466
                Y: =114
                ZIndex: =23

            Icon13_2 As icon.Add:
                Color: =RGBA(255, 255, 255, 1)
                Height: =23
                Icon: =Icon.Add
                OnSelect: |
                    =Set(
                        VarDialogOpen,
                        !VarDialogOpen
                    );
                    ClearCollect(
                        VisitData,
                        {
                            Customer: ThisItem.Account,
                            'Visit Type': 'Visit Type (Visits_1)'.Unplanned
                        }
                    );
                Width: =20
                X: =486
                Y: =122
                ZIndex: =24

    HtmlText1_82 As htmlViewer:
        Color: =RGBA(103, 204, 107, 1)
        Height: =82
        HtmlText: |-
            ="<div style='border-radius:0; background-color:#464A67; width:640px; height:70px'></div>"
        PaddingBottom: =0
        PaddingLeft: =0
        PaddingRight: =0
        PaddingTop: =0
        Width: =640
        ZIndex: =2

    Label11_4 As label:
        Color: =RGBA(255, 255, 255, 1)
        Font: =Font.Lato
        FontWeight: =FontWeight.Semibold
        Height: =46
        Size: =21
        Text: ="Customers"
        Width: =153
        X: =80
        Y: =12
        ZIndex: =4

    "'Customer Search_2' As text":
        BorderThickness: =1
        Default: =""
        FocusedBorderThickness: =2
        Font: =Font.Lato
        Height: =35
        HintText: ="Search Customers"
        RadiusBottomLeft: =10
        RadiusBottomRight: =10
        RadiusTopLeft: =10
        RadiusTopRight: =10
        Size: =14
        Width: =327
        X: =295
        Y: =21
        ZIndex: =5

    Gallery4_3 As gallery.galleryHorizontal:
        Height: =64
        Items: =['Account Type (Accounts)'.Distributer, 'Account Type (Accounts)'.Retailer, 'Account Type (Accounts)'.Wholesaler, 'Account Type (Accounts)'.Constructor, 'Account Type (Accounts)'.Plumber]
        OnSelect: =
        ShowScrollbar: =false
        TemplateSize: =143
        Width: =619
        X: =16
        Y: =80
        ZIndex: =6

        Button4_5 As button:
            BorderColor: =RGBA(70, 74, 103, 1)
            Color: =If(ThisItem.IsSelected, RGBA(255, 255, 255, 1), RGBA(70,74,103,1))
            Fill: =If(ThisItem.IsSelected, RGBA(70,74,103, 1), White)
            FocusedBorderColor: =
            FocusedBorderThickness: =2
            Height: =36
            HoverBorderColor: =RGBA(53, 166, 57, 1)
            OnSelect: =Select(Parent)
            PressedBorderColor: =
            PressedFill: =
            Size: =14
            Text: =ThisItem.Value
            Width: =130
            X: =7
            Y: =6
            ZIndex: =1

    "'Side Bar_14' As 'Side Bar'":
        Fill: =If(varOpen, RGBA(255, 255, 255, 1), Transparent)
        Height: =If(varOpen, 1136, 60)
        ZIndex: =7

    Rectangle5_3 As rectangle:
        Fill: =RGBA(230, 230, 230, 0.5)
        Height: =1136
        HoverFill: =
        Visible: =VarDialogOpen
        Width: =640
        ZIndex: =8

    "'Bottom Navigation_15' As 'Bottom Navigation'":
        NavItems: |-
            =Table( {
                    Title: If(varAttendance = "end" , "End", varAttendance = "start" , "Start", varAttendance = "done" , "Ended"),
                    //Title: Start,
                    Screen: If(varAttendance= "start" , StartDay, varAttendance= "end" , 'End day', varAttendance= "done" , 'Day Ended' ),
                
                    Icon: CalendarBlank,
                    Active: false
                },
                {
                    Title: "Visits",
                    Screen: Visits,
                    Icon: Waypoint,
                    Active: true
                },
                {
                    Title: "Dashboard",
                    Screen: Home,
                    Icon: Waffle,
                    Active: false
                },
                {
                    Title: "Orders",
                    Screen: 'All Orders',
                    Icon: ShoppingCart,
                    Active: false
                }
                )
        Y: =1056
        ZIndex: =13

    Group14_3 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =13

        Rectangle7_3 As rectangle:
            BorderColor: =RGBA(219, 219, 219, 1)
            Fill: =RGBA(237, 237, 237, 1)
            Height: =395
            HoverFill: =RGBA(237, 237, 237, 1)
            OnSelect: |-
                =If(VarDialogOpen, Patch(
                    Visits_1,
                    Defaults(Visits_1),
                    {cr431_visittype:'Visit Type (Visits_1)'.'254460001',
                    cr431_customer: LookUp(Accounts, )}
                );
                )
            PressedFill: =RGBA(237, 237, 237, 1)
            Visible: =VarDialogOpen
            Width: =550
            X: =45
            Y: =320
            ZIndex: =9

        Icon10_3 As icon.Cancel:
            Height: =37
            Icon: =Icon.Cancel
            OnSelect: =Set(VarDialogOpen, false)
            Visible: =VarDialogOpen
            Width: =37
            X: =543
            Y: =333
            ZIndex: =10

        Label7_3 As label:
            Align: =Align.Center
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =119
            OnSelect: =
            Size: =21
            Text: ="Do you want to add visit for this customer?"
            Visible: =VarDialogOpen
            Width: =488
            X: =75
            Y: =426
            ZIndex: =11

        Button2_6 As button:
            FocusedBorderColor: =ColorFade(Self.Fill, 75%)
            Font: =Font.Lato
            FontWeight: =FontWeight.Bold
            Height: =45
            OnSelect: |-
                =If(
                    !IsBlank(
                        LookUp(
                            Visits_1,
                            Customer.Account = First(VisitData.Customer).Customer && 'Created By'.User = LookUp(
                        Users,
                        'Primary Email' = User().Email
                    ).User
                        )
                    ) && IsToday(
                        LookUp(
                            Visits_1,
                            Customer.Account = First(VisitData.Customer).Customer
                        ).'Visit Date'
                    ),
                        Notify(
                        "Visit already been added for this customer.",
                        NotificationType.Error,
                        2000
                    ),
                    Patch(
                        Visits_1,
                        Defaults(Visits_1),
                        {
                            'Visit Date': Today(),
                            Customer: LookUp(
                                Accounts,
                                Account = First(VisitData.Customer).Customer
                            ),
                            'Visit Type': First(VisitData.'Visit Type').'Visit Type'
                        }
                    );
                    Navigate(
                        Visits,
                        ScreenTransition.Fade
                    );
                    
                
                )
            Size: =14
            Text: ="CONFIRM"
            Visible: =VarDialogOpen
            Width: =137
            X: =252
            Y: =595
            ZIndex: =12

